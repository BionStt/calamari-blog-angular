this code comes from [Squidex Samples](https://github.com/Squidex/squidex-samples/), i have intentionally changed as little as possbile
